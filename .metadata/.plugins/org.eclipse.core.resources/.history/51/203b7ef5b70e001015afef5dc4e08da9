package stepdef1;

import static org.testng.Assert.assertEquals;

import java.util.HashMap;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.Select;

import com.google.common.collect.Multiset.Entry;

import io.cucumber.java.en.Given;
import io.cucumber.java.en.Then;
import io.cucumber.java.en.When;
import utilities.common_methods;

public class Add_to_cart extends common_methods{
	public static HashMap<String,Object[]> hm = new HashMap<>();
	public static String product;
	public static double Grandtotal=0;

	@When("User choose {string}")
	public void user_choose(String category) {
		dr.findElement(By.xpath("//div[@class='block block-category-navigation']/div[2]//a[@href='/books']")).click();
	}
	
	@When("User Click on {string}")
	public void user_click_on(String name) {
		
//		dr.findElement(By.xpath("//div[@class='product-grid']//div[@class='picture']//a[@href='/computing-and-internet']")).click();
		dr.findElement(By.linkText(name)).click();
	}
	
	@When("User Click Add to cart")
	public void user_click_add_to_cart() {
		String product = dr.findElement(By.xpath("//div[@class='product-name']/h1")).getText();
		String price = dr.findElement(By.xpath("//div[@class='product-price']/span")).getText();
		Double p = Double.parseDouble(price);
		dr.findElement(By.className("qty-input")).clear();
		dr.findElement(By.className("qty-input")).sendKeys("2");
		
		Integer q = 2;
		System.out.println(q);
		dr.findElement(By.xpath("//div[@class='add-to-cart-panel']//input[2]")).click();
	    dr.findElement(By.xpath("//div[@class='block block-category-navigation']/div[2]//a[@href='/books']")).click();
	    hm.put(product, new Object[] {p,q});
	}
	
	
	
	
	
}
